{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../../../projects/ngx-bootstrap-multiselect/src/lib/search-filter.pipe.ts","../../../projects/ngx-bootstrap-multiselect/src/lib/ngx-bootstrap-multiselect.component.ts","../../../projects/ngx-bootstrap-multiselect/src/lib/autofocus.directive.ts","../../../projects/ngx-bootstrap-multiselect/src/lib/off-click.directive.ts","../../../projects/ngx-bootstrap-multiselect/src/lib/ngx-bootstrap-multiselect.module.ts"],"names":["Object","create","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","MultiSelectSearchFilter","this","_searchCache","_searchCacheInclusive","_prevSkippedItems","prototype","transform","options","str","limit","renderLimit","searchFunction","toLowerCase","_lastOptions","filteredOpts","hasOwnProperty","_doSearch","length","_limitRenderedItems","_getSubsetOptions","prevOptions","prevSearchStr","prevInclusiveOrIdx","arguments","concat","__spread","slice","prevStr","prevResults","prevResultShift","optsLength","maxFound","Math","min","regexp","founded","removedFromPrevResult","doesOptionMatch","option","test","name","getChildren","filter","child","parentId","id","getParent","find","parent","foundFn","item","notFoundFn","some","totalIterations","items","Pipe","args","MULTISELECT_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","NgxDropdownMultiselectComponent","multi","fb","searchFilter","differs","cdRef","localIsVisible","workerDocClicked","filterControl","control","disabled","disabledSelection","_escapeRegExp","selectionLimitReached","EventEmitter","dropdownClosed","dropdownOpened","added","removed","lazyLoad","valueChanges","destroyed$","Subject","filteredOptions","lazyLoadOptions","renderFilteredOptions","model","prevModel","numSelected","renderItems","checkAllSearchRegister","Set","checkAllStatus","loadedValueIds","_focusBack","defaultSettings","closeOnClickOutside","pullRight","enableSearch","searchRenderLimit","searchRenderAfter","searchMaxLimit","searchMaxRenderedItems","checkedStyle","buttonClasses","containerClasses","selectionLimit","minSelectionLimit","closeOnSelect","autoUnselect","showCheckAll","showUncheckAll","fixedTitle","dynamicTitleMaxItems","maxHeight","isLazyLoad","stopScrollPropagation","loadViewDistance","selectAddedValues","ignoreLabels","maintainSelectionOrderInTitle","focusBack","defaultTexts","checkAll","uncheckAll","checked","checkedPlural","searchPlaceholder","searchEmptyResult","searchNoRenderText","defaultTitle","allSelected","onModelChange","_","onModelTouched","differ","settings","texts","defineProperty","val","searchLimit","clickedOutside","isVisible","emit","getItemStyle","style","isLabel","getItemStyleSelectionDisabled","cursor","ngOnInit","_this","title","pipe","takeUntil","subscribe","updateRenderItems","load","ngOnChanges","changes","parents","map","currentValue","previousValue","addedValues_1","indexOf","addChecks","size","forEach","searchValue","applyFilters","updateTitle","fireModelChange","assign","isFirstChange","ngOnDestroy","searchLimitApplied","focusedItem","undefined","markForCheck","writeValue","Array","isArray","ngDoCheck","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","diff","updateNumSelected","validate","_c","required","valid","selection","registerOnValidatorChange","_fn","Error","clearSearch","event","maybeStopPropagation","setValue","toggleDropdown","closeDropdown","isSelected","setSelected","_event","setTimeout","maybePreventDefault","index","isAtSelectionLimit","removeItem","idx","splice","parentIndex","addItem_1","every","numSelectedOptions","displayAllSelectedText","useOptions_1","titleSelections","optionIds_1","selectOption","selectedId","optionIndex","join","searchFilterApplied","checkedOptions","add","clear","unCheckedOptions_1","has","delete","searchTerm","filterOptions","preventCheckboxCheck","isCheckboxDisabled","checkScrollPosition","ev","scrollTop","target","scrollHeight","scrollElementHeight","clientHeight","checkScrollPropagation","element","deltaY","window","returnValue","trackById","checkAllSearches","focusItem","dir","nextIdx","newIdx","preventDefault","stopPropagation","regExpStr","replace","RegExp","Component","selector","template","providers","changeDetection","ChangeDetectionStrategy","OnPush","FormBuilder","IterableDiffers","ChangeDetectorRef","Input","Output","AutofocusDirective","elemRef","nativeElement","focus","ssAutofocusChange","ssAutofocus","Directive","ElementRef","decorators","type","Host","OffClickDirective","onOffClick","onClick","_clickEvent","onTouch","_touchEvent","onDocumentClick","onDocumentTouch","HostListener","NgModule","declarations","imports","CommonModule","ReactiveFormsModule","exports"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { IMultiSelectOption } from './types';\n\ninterface StringHashMap<T> {\n  [k: string]: T;\n}\n\n@Pipe({\n  name: 'searchFilter'\n})\nexport class MultiSelectSearchFilter implements PipeTransform {\n\n  private _lastOptions: IMultiSelectOption[];\n  private _searchCache: StringHashMap<IMultiSelectOption[]> = {};\n  private _searchCacheInclusive: StringHashMap<boolean | number> = {};\n  private _prevSkippedItems: StringHashMap<number> = {};\n\n  transform(\n    options: IMultiSelectOption[],\n    str = '',\n    limit = 0,\n    renderLimit = 0,\n    searchFunction: (str: string) => RegExp,\n  ): IMultiSelectOption[] {\n    str = str.toLowerCase();\n\n    // Drop cache because options were updated\n    if (options !== this._lastOptions) {\n      this._lastOptions = options;\n      this._searchCache = {};\n      this._searchCacheInclusive = {};\n      this._prevSkippedItems = {};\n    }\n\n    const filteredOpts = this._searchCache.hasOwnProperty(str)\n      ? this._searchCache[str]\n      : this._doSearch(options, str, limit, searchFunction);\n\n    const isUnderLimit = options.length <= limit;\n\n    return isUnderLimit\n      ? filteredOpts\n      : this._limitRenderedItems(filteredOpts, renderLimit);\n  }\n\n  private _getSubsetOptions(\n    options: IMultiSelectOption[],\n    prevOptions: IMultiSelectOption[],\n    prevSearchStr: string\n  ) {\n    const prevInclusiveOrIdx = this._searchCacheInclusive[prevSearchStr];\n\n    if (prevInclusiveOrIdx === true) {\n      // If have previous results and it was inclusive, do only subsearch\n      return prevOptions;\n    } else if (typeof prevInclusiveOrIdx === 'number') {\n      // Or reuse prev results with unchecked ones\n      return [...prevOptions, ...options.slice(prevInclusiveOrIdx)];\n    }\n\n    return options;\n  }\n\n  private _doSearch(options: IMultiSelectOption[], str: string, limit: number, searchFunction: (str: string) => RegExp) {\n    const prevStr = str.slice(0, -1);\n    const prevResults = this._searchCache[prevStr];\n    const prevResultShift = this._prevSkippedItems[prevStr] || 0;\n\n    if (prevResults) {\n      options = this._getSubsetOptions(options, prevResults, prevStr);\n    }\n\n    const optsLength = options.length;\n    const maxFound = limit > 0 ? Math.min(limit, optsLength) : optsLength;\n    const regexp = searchFunction(str);\n    const filteredOpts: IMultiSelectOption[] = [];\n\n    let i = 0, founded = 0, removedFromPrevResult = 0;\n\n    const doesOptionMatch = (option: IMultiSelectOption) => regexp.test(option.name);\n    const getChildren = (option: IMultiSelectOption) =>\n      options.filter(child => child.parentId === option.id);\n    const getParent = (option: IMultiSelectOption) =>\n      options.find(parent => option.parentId === parent.id);\n    const foundFn = (item: any) => { filteredOpts.push(item); founded++; };\n    const notFoundFn = prevResults ? () => removedFromPrevResult++ : () => { };\n\n    for (; i < optsLength && founded < maxFound; ++i) {\n      const option = options[i];\n      const directMatch = doesOptionMatch(option);\n\n      if (directMatch) {\n        foundFn(option);\n        continue;\n      }\n\n      if (typeof option.parentId === 'undefined') {\n        const childrenMatch = getChildren(option).some(doesOptionMatch);\n\n        if (childrenMatch) {\n          foundFn(option);\n          continue;\n        }\n      }\n\n      if (typeof option.parentId !== 'undefined') {\n        const parentMatch = doesOptionMatch(getParent(option));\n\n        if (parentMatch) {\n          foundFn(option);\n          continue;\n        }\n      }\n\n      notFoundFn();\n    }\n\n    const totalIterations = i + prevResultShift;\n\n    this._searchCache[str] = filteredOpts;\n    this._searchCacheInclusive[str] = i === optsLength || totalIterations;\n    this._prevSkippedItems[str] = removedFromPrevResult + prevResultShift;\n\n    return filteredOpts;\n  }\n\n  private _limitRenderedItems<T>(items: T[], limit: number): T[] {\n    return items.length > limit && limit > 0 ? items.slice(0, limit) : items;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  DoCheck,\n  EventEmitter,\n  forwardRef,\n  Input,\n  IterableDiffers,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\n\nimport {\n  AbstractControl,\n  ControlValueAccessor,\n  FormBuilder,\n  FormControl,\n  NG_VALUE_ACCESSOR,\n  Validator,\n} from '@angular/forms';\n\nimport { takeUntil } from 'rxjs/operators';\nimport { MultiSelectSearchFilter } from './search-filter.pipe';\nimport { IMultiSelectOption, IMultiSelectSettings, IMultiSelectTexts, } from './types';\nimport { Subject, Observable } from 'rxjs';\n\nconst MULTISELECT_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => NgxDropdownMultiselectComponent),\n  multi: true,\n};\n\n// tslint:disable-next-line: no-conflicting-lifecycle\n@Component({\n  selector: 'ngx-bootstrap-multiselect',\n  templateUrl: './ngx-bootstrap-multiselect.component.html',\n  styleUrls: ['./ngx-bootstrap-multiselect.component.css'],\n  providers: [MULTISELECT_VALUE_ACCESSOR, MultiSelectSearchFilter],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NgxDropdownMultiselectComponent implements OnInit,\n  OnChanges,\n  DoCheck,\n  OnDestroy,\n  ControlValueAccessor,\n  Validator {\n\n  private localIsVisible = false;\n  private workerDocClicked = false;\n\n  filterControl: FormControl = this.fb.control('');\n\n  @Input() options: Array<IMultiSelectOption>;\n  @Input() settings: IMultiSelectSettings;\n  @Input() texts: IMultiSelectTexts;\n  @Input() disabled = false;\n  @Input() disabledSelection = false;\n  @Input() searchFunction: (str: string) => RegExp = this._escapeRegExp;\n\n  @Output() selectionLimitReached = new EventEmitter();\n  @Output() dropdownClosed = new EventEmitter();\n  @Output() dropdownOpened = new EventEmitter();\n  @Output() added = new EventEmitter();\n  @Output() removed = new EventEmitter();\n  @Output() lazyLoad = new EventEmitter();\n  @Output() filter: Observable<string> = this.filterControl.valueChanges;\n\n  get focusBack(): boolean {\n    return this.settings.focusBack && this._focusBack;\n  }\n\n  destroyed$ = new Subject<any>();\n\n  filteredOptions: IMultiSelectOption[] = [];\n  lazyLoadOptions: IMultiSelectOption[] = [];\n  renderFilteredOptions: IMultiSelectOption[] = [];\n  model: any[] = [];\n  prevModel: any[] = [];\n  parents: any[];\n  title: string;\n  differ: any;\n  numSelected = 0;\n  set isVisible(val: boolean) {\n    this.localIsVisible = val;\n    this.workerDocClicked = val ? false : this.workerDocClicked;\n  }\n  get isVisible(): boolean {\n    return this.localIsVisible;\n  }\n  renderItems = true;\n  checkAllSearchRegister = new Set();\n  checkAllStatus = false;\n  loadedValueIds = [];\n  _focusBack = false;\n  focusedItem: IMultiSelectOption | undefined;\n\n  defaultSettings: IMultiSelectSettings = {\n    closeOnClickOutside: true,\n    pullRight: false,\n    enableSearch: false,\n    searchRenderLimit: 0,\n    searchRenderAfter: 1,\n    searchMaxLimit: 0,\n    searchMaxRenderedItems: 0,\n    checkedStyle: 'checkboxes',\n    buttonClasses: 'btn btn-primary dropdown-toggle',\n    containerClasses: 'dropdown-inline',\n    selectionLimit: 0,\n    minSelectionLimit: 0,\n    closeOnSelect: false,\n    autoUnselect: false,\n    showCheckAll: false,\n    showUncheckAll: false,\n    fixedTitle: false,\n    dynamicTitleMaxItems: 3,\n    maxHeight: '300px',\n    isLazyLoad: false,\n    stopScrollPropagation: false,\n    loadViewDistance: 1,\n    selectAddedValues: false,\n    ignoreLabels: false,\n    maintainSelectionOrderInTitle: false,\n    focusBack: true\n  };\n  defaultTexts: IMultiSelectTexts = {\n    checkAll: 'Select all',\n    uncheckAll: 'Unselect all',\n    checked: 'selected',\n    checkedPlural: 'selected',\n    searchPlaceholder: 'Search...',\n    searchEmptyResult: 'Nothing found...',\n    searchNoRenderText: 'Type in search box to see results...',\n    defaultTitle: 'Select',\n    allSelected: 'All selected',\n  };\n\n  get searchLimit(): number | undefined {\n    return this.settings.searchRenderLimit;\n  }\n\n  get searchRenderAfter(): number | undefined {\n    return this.settings.searchRenderAfter;\n  }\n\n  get searchLimitApplied(): boolean {\n    return this.searchLimit > 0 && this.options.length > this.searchLimit;\n  }\n\n  constructor(\n    private fb: FormBuilder,\n    private searchFilter: MultiSelectSearchFilter,\n    differs: IterableDiffers,\n    private cdRef: ChangeDetectorRef\n  ) {\n    this.differ = differs.find([]).create(null);\n    this.settings = this.defaultSettings;\n    this.texts = this.defaultTexts;\n  }\n\n  clickedOutside(): void {\n    if (!this.isVisible || !this.settings.closeOnClickOutside) { return; }\n\n    this.isVisible = false;\n    this._focusBack = true;\n    this.dropdownClosed.emit();\n  }\n\n  getItemStyle(option: IMultiSelectOption): any {\n    const style = {};\n    if (!option.isLabel) {\n      style['cursor'] = 'pointer';\n    }\n    if (option.disabled) {\n      style['cursor'] = 'default';\n    }\n  }\n\n  getItemStyleSelectionDisabled(): any {\n    if (this.disabledSelection) {\n      return { cursor: 'default' };\n    }\n  }\n\n  ngOnInit(): void {\n    this.title = this.texts.defaultTitle || '';\n\n    this.filterControl.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe(() => {\n      this.updateRenderItems();\n      if (this.settings.isLazyLoad) {\n        this.load();\n      }\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['options']) {\n      this.options = this.options || [];\n      this.parents = this.options\n        .filter(option => typeof option.parentId === 'number')\n        .map(option => option.parentId);\n      this.updateRenderItems();\n\n      if (\n        this.settings.isLazyLoad &&\n        this.settings.selectAddedValues &&\n        this.loadedValueIds.length === 0\n      ) {\n        this.loadedValueIds = this.loadedValueIds.concat(\n          changes.options.currentValue.map(value => value.id)\n        );\n      }\n      if (\n        this.settings.isLazyLoad &&\n        this.settings.selectAddedValues &&\n        changes.options.previousValue\n      ) {\n        const addedValues = changes.options.currentValue.filter(\n          value => this.loadedValueIds.indexOf(value.id) === -1\n        );\n        this.loadedValueIds.concat(addedValues.map(value => value.id));\n        if (this.checkAllStatus) {\n          this.addChecks(addedValues);\n        } else if (this.checkAllSearchRegister.size > 0) {\n          this.checkAllSearchRegister.forEach((searchValue: string) =>\n            this.addChecks(this.applyFilters(addedValues, searchValue))\n          );\n        }\n      }\n\n      if (this.texts) {\n        this.updateTitle();\n      }\n\n      this.fireModelChange();\n    }\n\n    if (changes['settings']) {\n      this.settings = { ...this.defaultSettings, ...this.settings };\n    }\n\n    if (changes['texts']) {\n      this.texts = { ...this.defaultTexts, ...this.texts };\n      if (!changes['texts'].isFirstChange()) { this.updateTitle(); }\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.next();\n  }\n\n  updateRenderItems() {\n    this.renderItems =\n      !this.searchLimitApplied ||\n      this.filterControl.value.length >= this.searchRenderAfter;\n    this.filteredOptions = this.applyFilters(\n      this.options,\n      this.settings.isLazyLoad ? '' : this.filterControl.value\n    );\n    this.renderFilteredOptions = this.renderItems ? this.filteredOptions : [];\n    this.focusedItem = undefined;\n  }\n\n  applyFilters(options: IMultiSelectOption[], value: string): IMultiSelectOption[] {\n    return this.searchFilter.transform(\n      options,\n      value,\n      this.settings.searchMaxLimit,\n      this.settings.searchMaxRenderedItems,\n      this.searchFunction\n    );\n  }\n\n  fireModelChange(): void {\n    if (this.model != this.prevModel) {\n      this.prevModel = this.model;\n      this.onModelChange(this.model);\n      this.onModelTouched();\n      this.cdRef.markForCheck();\n    }\n  }\n\n  onModelChange: Function = (_: any) => { };\n  onModelTouched: Function = () => { };\n\n  writeValue(value: any): void {\n    if (value !== undefined && value !== null) {\n      this.model = Array.isArray(value) ? value : [value];\n      this.ngDoCheck();\n    } else {\n      this.model = [];\n    }\n  }\n\n  registerOnChange(fn: Function): void {\n    this.onModelChange = fn;\n  }\n\n  registerOnTouched(fn: Function): void {\n    this.onModelTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean) {\n    this.disabled = isDisabled;\n  }\n\n  ngDoCheck() {\n    const changes = this.differ.diff(this.model);\n    if (changes) {\n      this.updateNumSelected();\n      this.updateTitle();\n    }\n  }\n\n  validate(_c: AbstractControl): { [key: string]: any } {\n    if (this.model && this.model.length) {\n      return {\n        required: {\n          valid: false\n        }\n      };\n    }\n\n    if (this.options.filter(o => this.model.indexOf(o.id) && !o.disabled).length === 0) {\n      return {\n        selection: {\n          valid: false\n        }\n      };\n    }\n\n    return null;\n  }\n\n  registerOnValidatorChange(_fn: () => void): void {\n    throw new Error('Method not implemented.');\n  }\n\n  clearSearch(event: Event) {\n    this.maybeStopPropagation(event);\n    this.filterControl.setValue('');\n  }\n\n  toggleDropdown(e?: Event) {\n    if (this.isVisible) {\n      this._focusBack = true;\n    }\n\n    this.isVisible = !this.isVisible;\n    this.isVisible ? this.dropdownOpened.emit() : this.dropdownClosed.emit();\n    this.focusedItem = undefined;\n  }\n\n  closeDropdown(e?: Event) {\n    this.isVisible = true;\n    this.toggleDropdown(e);\n  }\n\n  isSelected(option: IMultiSelectOption): boolean {\n    return this.model && this.model.indexOf(option.id) > -1;\n  }\n\n  setSelected(_event: Event, option: IMultiSelectOption) {\n    if (option.isLabel) {\n      return;\n    }\n\n    if (option.disabled) {\n      return;\n    }\n\n    if (this.disabledSelection) {\n      return;\n    }\n\n    setTimeout(() => {\n      this.maybeStopPropagation(_event);\n      this.maybePreventDefault(_event);\n      const index = this.model.indexOf(option.id);\n      const isAtSelectionLimit =\n        this.settings.selectionLimit > 0 &&\n        this.model.length >= this.settings.selectionLimit;\n      const removeItem = (idx, id): void => {\n        this.model.splice(idx, 1);\n        this.removed.emit(id);\n        if (\n          this.settings.isLazyLoad &&\n          this.lazyLoadOptions.some(val => val.id === id)\n        ) {\n          this.lazyLoadOptions.splice(\n            this.lazyLoadOptions.indexOf(\n              this.lazyLoadOptions.find(val => val.id === id)\n            ),\n            1\n          );\n        }\n      };\n\n      if (index > -1) {\n        if (\n          this.settings.minSelectionLimit === undefined ||\n          this.numSelected > this.settings.minSelectionLimit\n        ) {\n          removeItem(index, option.id);\n        }\n        const parentIndex =\n          option.parentId && this.model.indexOf(option.parentId);\n        if (parentIndex > -1) {\n          removeItem(parentIndex, option.parentId);\n        } else if (this.parents.indexOf(option.id) > -1) {\n          this.options\n            .filter(\n              child =>\n                this.model.indexOf(child.id) > -1 &&\n                child.parentId === option.id\n            )\n            .forEach(child =>\n              removeItem(this.model.indexOf(child.id), child.id)\n            );\n        }\n      } else if (isAtSelectionLimit && !this.settings.autoUnselect) {\n        this.selectionLimitReached.emit(this.model.length);\n        return;\n      } else {\n        const addItem = (id): void => {\n          this.model.push(id);\n          this.added.emit(id);\n          if (\n            this.settings.isLazyLoad &&\n            !this.lazyLoadOptions.some(val => val.id === id)\n          ) {\n            this.lazyLoadOptions.push(option);\n          }\n        };\n\n        addItem(option.id);\n        if (!isAtSelectionLimit) {\n          if (option.parentId && !this.settings.ignoreLabels) {\n            const children = this.options.filter(\n              child =>\n                child.id !== option.id && child.parentId === option.parentId\n            );\n            if (children.every(child => this.model.indexOf(child.id) > -1)) {\n              addItem(option.parentId);\n            }\n          } else if (this.parents.indexOf(option.id) > -1) {\n            const children = this.options.filter(\n              child =>\n                this.model.indexOf(child.id) < 0 && child.parentId === option.id\n            );\n            children.forEach(child => addItem(child.id));\n          }\n        } else {\n          removeItem(0, this.model[0]);\n        }\n      }\n      if (this.settings.closeOnSelect) {\n        this.toggleDropdown();\n      }\n      this.model = this.model.slice();\n      this.fireModelChange();\n\n    }, 0)\n  }\n\n  updateNumSelected() {\n    this.numSelected =\n      this.model.filter(id => this.parents.indexOf(id) < 0).length || 0;\n  }\n\n  updateTitle() {\n    let numSelectedOptions = this.options.length;\n    if (this.settings.ignoreLabels) {\n      numSelectedOptions = this.options.filter(\n        (option: IMultiSelectOption) => !option.isLabel\n      ).length;\n    }\n    if (this.numSelected === 0 || this.settings.fixedTitle) {\n      this.title = this.texts ? this.texts.defaultTitle : '';\n    } else if (\n      this.settings.displayAllSelectedText &&\n      this.model.length === numSelectedOptions\n    ) {\n      this.title = this.texts ? this.texts.allSelected : '';\n    } else if (\n      this.settings.dynamicTitleMaxItems &&\n      this.settings.dynamicTitleMaxItems >= this.numSelected\n    ) {\n      const useOptions =\n        this.settings.isLazyLoad && this.lazyLoadOptions.length\n          ? this.lazyLoadOptions\n          : this.options;\n\n      let titleSelections: Array<IMultiSelectOption>;\n\n      if (this.settings.maintainSelectionOrderInTitle) {\n        const optionIds = useOptions.map((selectOption: IMultiSelectOption, idx: number) => selectOption.id);\n        titleSelections = this.model\n          .map((selectedId) => optionIds.indexOf(selectedId))\n          .filter((optionIndex) => optionIndex > -1)\n          .map((optionIndex) => useOptions[optionIndex]);\n      } else {\n        titleSelections = useOptions.filter((option: IMultiSelectOption) => this.model.indexOf(option.id) > -1);\n      }\n\n      this.title = titleSelections.map((option: IMultiSelectOption) => option.name).join(', ');\n    } else {\n      this.title =\n        this.numSelected +\n        ' ' +\n        (this.numSelected === 1\n          ? this.texts.checked\n          : this.texts.checkedPlural);\n    }\n    this.cdRef.markForCheck();\n  }\n\n  searchFilterApplied() {\n    return (\n      this.settings.enableSearch &&\n      this.filterControl.value &&\n      this.filterControl.value.length > 0\n    );\n  }\n\n  addChecks(options) {\n    const checkedOptions = options\n      .filter((option: IMultiSelectOption) => {\n        if (\n          !option.disabled &&\n          (\n            this.model.indexOf(option.id) === -1 &&\n            !(this.settings.ignoreLabels && option.isLabel)\n          )\n        ) {\n          this.added.emit(option.id);\n          return true;\n        }\n        return false;\n      })\n      .map((option: IMultiSelectOption) => option.id);\n\n    this.model = this.model.concat(checkedOptions);\n  }\n\n  checkAll(): void {\n    if (!this.disabledSelection) {\n      this.addChecks(\n        !this.searchFilterApplied() ? this.options : this.filteredOptions\n      );\n      if (this.settings.isLazyLoad && this.settings.selectAddedValues) {\n        if (this.searchFilterApplied() && !this.checkAllStatus) {\n          this.checkAllSearchRegister.add(this.filterControl.value);\n        } else {\n          this.checkAllSearchRegister.clear();\n          this.checkAllStatus = true;\n        }\n        this.load();\n      }\n      this.fireModelChange();\n    }\n  }\n\n  uncheckAll(): void {\n    if (!this.disabledSelection) {\n      const checkedOptions = this.model;\n      let unCheckedOptions = !this.searchFilterApplied()\n        ? this.model\n        : this.filteredOptions.map((option: IMultiSelectOption) => option.id);\n      // set unchecked options only to the ones that were checked\n      unCheckedOptions = checkedOptions.filter(item => unCheckedOptions.indexOf(item) > -1);\n      this.model = this.model.filter((id: number) => {\n        if (\n          (unCheckedOptions.indexOf(id) < 0 &&\n            this.settings.minSelectionLimit === undefined) ||\n          unCheckedOptions.indexOf(id) < this.settings.minSelectionLimit\n        ) {\n          return true;\n        } else {\n          this.removed.emit(id);\n          return false;\n        }\n      });\n      if (this.settings.isLazyLoad && this.settings.selectAddedValues) {\n        if (this.searchFilterApplied()) {\n          if (this.checkAllSearchRegister.has(this.filterControl.value)) {\n            this.checkAllSearchRegister.delete(this.filterControl.value);\n            this.checkAllSearchRegister.forEach(function(searchTerm) {\n              const filterOptions = this.applyFilters(this.options.filter(option => unCheckedOptions.indexOf(option.id) > -1), searchTerm);\n              this.addChecks(filterOptions);\n            });\n          }\n        } else {\n          this.checkAllSearchRegister.clear();\n          this.checkAllStatus = false;\n        }\n        this.load();\n      }\n      this.fireModelChange();\n    }\n  }\n\n  preventCheckboxCheck(event: Event, option: IMultiSelectOption): void {\n    if (\n      option.disabled ||\n      (\n        this.settings.selectionLimit &&\n        !this.settings.autoUnselect &&\n        this.model.length >= this.settings.selectionLimit &&\n        this.model.indexOf(option.id) === -1 &&\n        this.maybePreventDefault(event)\n      )\n    ) {\n      this.maybePreventDefault(event);\n    }\n  }\n\n  isCheckboxDisabled(option?: IMultiSelectOption): boolean {\n    return this.disabledSelection || option && option.disabled;\n  }\n\n  checkScrollPosition(ev): void {\n    const scrollTop = ev.target.scrollTop;\n    const scrollHeight = ev.target.scrollHeight;\n    const scrollElementHeight = ev.target.clientHeight;\n    const roundingPixel = 1;\n    const gutterPixel = 1;\n\n    if (\n      scrollTop >=\n      scrollHeight -\n      (1 + this.settings.loadViewDistance) * scrollElementHeight -\n      roundingPixel -\n      gutterPixel\n    ) {\n      this.load();\n    }\n  }\n\n  checkScrollPropagation(ev, element): void {\n    const scrollTop = element.scrollTop;\n    const scrollHeight = element.scrollHeight;\n    const scrollElementHeight = element.clientHeight;\n\n    if (\n      (ev.deltaY > 0 && scrollTop + scrollElementHeight >= scrollHeight) ||\n      (ev.deltaY < 0 && scrollTop <= 0)\n    ) {\n      ev = ev || window.event;\n      this.maybePreventDefault(ev);\n      ev.returnValue = false;\n    }\n  }\n\n  trackById(idx: number, selectOption: IMultiSelectOption): void {\n    return selectOption.id;\n  }\n\n  load(): void {\n    this.lazyLoad.emit({\n      length: this.options.length,\n      filter: this.filterControl.value,\n      checkAllSearches: this.checkAllSearchRegister,\n      checkAllStatus: this.checkAllStatus,\n    });\n  }\n\n  focusItem(dir: number, e?: Event): void {\n    if (!this.isVisible) {\n      return;\n    }\n\n    this.maybePreventDefault(e);\n\n    const idx = this.filteredOptions.indexOf(this.focusedItem);\n\n    if (idx === -1) {\n      this.focusedItem = this.filteredOptions[0];\n      return;\n    }\n\n    const nextIdx = idx + dir;\n    const newIdx =\n      nextIdx < 0\n        ? this.filteredOptions.length - 1\n        : nextIdx % this.filteredOptions.length;\n\n    this.focusedItem = this.filteredOptions[newIdx];\n  }\n\n  private maybePreventDefault(e?: Event): void {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n  }\n\n  private maybeStopPropagation(e?: Event): void {\n    if (e && e.stopPropagation) {\n      e.stopPropagation();\n    }\n  }\n\n  private _escapeRegExp(str: string): RegExp {\n    const regExpStr = str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n    return new RegExp(regExpStr, 'i');\n  }\n}\n","import { Directive, ElementRef, Host, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\n\n@Directive({\n  selector: '[ssAutofocus]'\n})\nexport class AutofocusDirective implements OnInit, OnChanges {\n\n  /**\n   * Will set focus if set to falsy value or not set at all\n   */\n  @Input() ssAutofocus: boolean;\n\n  get element(): { focus?: Function } {\n    return this.elemRef.nativeElement;\n  }\n\n  constructor(\n    @Host() private elemRef: ElementRef,\n  ) { }\n\n  ngOnInit() {\n    this.focus();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    const ssAutofocusChange = changes.ssAutofocus;\n\n    if (ssAutofocusChange && !ssAutofocusChange.isFirstChange()) {\n      this.focus();\n    }\n  }\n\n  focus() {\n    if (this.ssAutofocus) {\n      return;\n    }\n\n    this.element.focus && this.element.focus();\n  }\n\n}\n","import { Directive, HostListener } from '@angular/core';\nimport { EventEmitter } from '@angular/core';\nimport { Output } from '@angular/core';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[offClick]',\n})\n\nexport class OffClickDirective {\n  @Output('offClick') onOffClick = new EventEmitter<any>();\n\n  private _clickEvent: MouseEvent;\n  private _touchEvent: TouchEvent;\n\n  @HostListener('click', ['$event']) \n  public onClick(event: MouseEvent): void {\n    this._clickEvent = event;\n  }\n\n  @HostListener('touchstart', ['$event'])\n  public onTouch(event: TouchEvent): void {\n    this._touchEvent = event;\n  }\n\n  @HostListener('document:click', ['$event']) \n  public onDocumentClick(event: MouseEvent): void {\n    if (event !== this._clickEvent) {\n      this.onOffClick.emit(event);\n    }\n  }\n\n  @HostListener('document:touchstart', ['$event'])\n  public onDocumentTouch(event: TouchEvent): void {\n    if (event !== this._touchEvent) {\n      this.onOffClick.emit(event);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgxDropdownMultiselectComponent } from './ngx-bootstrap-multiselect.component';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { MultiSelectSearchFilter } from './search-filter.pipe';\nimport { AutofocusDirective } from './autofocus.directive';\nimport { OffClickDirective } from './off-click.directive';\n\n@NgModule({\n  declarations: [\n    NgxDropdownMultiselectComponent,\n    MultiSelectSearchFilter,\n    AutofocusDirective,\n    OffClickDirective\n  ],\n  imports: [\n    CommonModule,\n    ReactiveFormsModule\n  ],\n  exports: [\n    NgxDropdownMultiselectComponent,\n    MultiSelectSearchFilter,\n  ],\n})\nexport class NgxBootstrapMultiselectModule { }\n"]}